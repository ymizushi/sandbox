{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main-compiled.js","sourcesContent":["'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Time = function () {\n  function Time(date) {\n    _classCallCheck(this, Time);\n\n    this._date = date;\n  }\n\n  _createClass(Time, [{\n    key: 'hours',\n    get: function get() {\n      return this._date.getHours();\n    }\n  }, {\n    key: 'minutes',\n    get: function get() {\n      return this._date.getMinutes();\n    }\n  }, {\n    key: 'seconds',\n    get: function get() {\n      return this._date.getSeconds();\n    }\n  }, {\n    key: 'time',\n    get: function get() {\n      return this._date.getTime();\n    }\n  }]);\n\n  return Time;\n}();\n\nvar Timer = function () {\n  function Timer(time) {\n    _classCallCheck(this, Timer);\n\n    this._time = time;\n  }\n\n  _createClass(Timer, [{\n    key: 'tick',\n    value: function tick() {\n      return this.diff(new Time(new Date())) / 1000000;\n    }\n  }, {\n    key: 'diff',\n    value: function diff(time) {\n      return time.time - this._time.time;\n    }\n  }]);\n\n  return Timer;\n}();\n\nvar Listener = function Listener() {\n  _classCallCheck(this, Listener);\n};\n\nvar TimerListener = function (_Listener) {\n  _inherits(TimerListener, _Listener);\n\n  function TimerListener(timer) {\n    _classCallCheck(this, TimerListener);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(TimerListener).call(this));\n\n    _this._timer = timer;\n    _this._clockComponent = new ClockComponent();\n    _this._timerComponent = new TimeComponent();\n    _this._lapComponents = [];\n    return _this;\n  }\n\n  _createClass(TimerListener, [{\n    key: 'tick',\n    value: function tick() {\n      this._timer.tick();\n      this._clockComponent.tick(this._timer);\n    }\n  }, {\n    key: 'lap',\n    value: function lap() {\n      this._lapComponents.forEach(function (e) {\n        return e.lap();\n      });\n    }\n  }]);\n\n  return TimerListener;\n}(Listener);\n\nvar Component = function Component() {\n  _classCallCheck(this, Component);\n};\n\nvar ClockComponent = function (_Component) {\n  _inherits(ClockComponent, _Component);\n\n  function ClockComponent() {\n    _classCallCheck(this, ClockComponent);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(ClockComponent).apply(this, arguments));\n  }\n\n  _createClass(ClockComponent, [{\n    key: 'tick',\n    value: function tick(timer) {\n      this._draw(timer);\n    }\n  }, {\n    key: '_draw',\n    value: function _draw(timer) {\n      var element = document.getElementById('clock');\n      element.innerHTML = timer.diff(new Time(new Date()));\n    }\n  }]);\n\n  return ClockComponent;\n}(Component);\n\nvar TimeComponent = function (_Component2) {\n  _inherits(TimeComponent, _Component2);\n\n  function TimeComponent() {\n    _classCallCheck(this, TimeComponent);\n\n    var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(TimeComponent).call(this));\n\n    _this3._beforeTime = new Timer(new Date());\n    return _this3;\n  }\n\n  _createClass(TimeComponent, [{\n    key: 'lap',\n    value: function lap(timer) {\n      var millisec = this._beforeTime.diff(timer);\n      this._beforeTime = timer;\n      this._draw(millisec);\n    }\n  }, {\n    key: '_draw',\n    value: function _draw(millisec) {\n      var time = document.getElementById('time');\n      time.innerHTML = millisec;\n    }\n  }]);\n\n  return TimeComponent;\n}(Component);\n\nvar EventHandler = function () {\n  function EventHandler() {\n    _classCallCheck(this, EventHandler);\n\n    this.listeners = [];\n  }\n\n  _createClass(EventHandler, [{\n    key: 'addListener',\n    value: function addListener(listener) {\n      this.listeners.push(listener);\n    }\n  }, {\n    key: 'tick',\n    value: function tick() {\n      for (var i in this.listeners) {\n        this.listeners[i].tick();\n      }\n    }\n  }]);\n\n  return EventHandler;\n}();\n\nfunction main() {\n  var eventHandler = new EventHandler();\n  var timerListener = new TimerListener(new Timer(new Time(new Date())), new ClockComponent());\n  eventHandler.addListener(timerListener);\n\n  window.onload = function () {\n    document.getElementById('start').addEventListener('click', function () {\n      console.log(\"start\");\n    });\n\n    document.getElementById('lap').addEventListener('click', function () {\n      console.log(\"lap\");\n    });\n    document.getElementById('stop').addEventListener('click', function () {\n      console.log(\"stop\");\n    });\n\n    window.setInterval(function () {\n      return eventHandler.tick();\n    }, 1000);\n  };\n}\n\nmain();"]}