{"version":3,"sources":["main-compiled.js"],"names":[],"mappings":"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","file":"main-compiled-compiled.js","sourcesContent":["\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }return call && ((typeof call === \"undefined\" ? \"undefined\" : _typeof(call)) === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : _typeof(superClass)));\n  }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar Time = function () {\n  function Time(date) {\n    _classCallCheck(this, Time);\n\n    this._date = date;\n  }\n\n  _createClass(Time, [{\n    key: \"hours\",\n    get: function get() {\n      return this._date.getHours();\n    }\n  }, {\n    key: \"minutes\",\n    get: function get() {\n      return this._date.getMinutes();\n    }\n  }, {\n    key: \"seconds\",\n    get: function get() {\n      return this._date.getSeconds();\n    }\n  }, {\n    key: \"time\",\n    get: function get() {\n      return this._date.getTime();\n    }\n  }]);\n\n  return Time;\n}();\n\nvar Timer = function () {\n  function Timer(time) {\n    _classCallCheck(this, Timer);\n\n    this._time = time;\n  }\n\n  _createClass(Timer, [{\n    key: \"tick\",\n    value: function tick() {\n      return this.diff(new Time(new Date()));\n    }\n  }, {\n    key: \"diff\",\n    value: function diff(time) {\n      return time.time - this._time.time;\n    }\n  }]);\n\n  return Timer;\n}();\n\nvar Listener = function Listener() {\n  _classCallCheck(this, Listener);\n};\n\nvar TimerListener = function (_Listener) {\n  _inherits(TimerListener, _Listener);\n\n  function TimerListener(timer) {\n    _classCallCheck(this, TimerListener);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(TimerListener).call(this));\n\n    _this._timer = timer;\n    _this._clockComponent = new ClockComponent();\n    _this._timerComponent = new TimerComponent();\n    _this._lapComponents = [];\n    return _this;\n  }\n\n  _createClass(TimerListener, [{\n    key: \"tick\",\n    value: function tick() {\n      this._timer.tick();\n      this._clockComponent.tick(this._timer);\n    }\n  }, {\n    key: \"lap\",\n    value: function lap() {\n      this._lapComponents.forEach(function (e) {\n        return e.lap();\n      });\n    }\n  }]);\n\n  return TimerListener;\n}(Listener);\n\nvar Component = function Component() {\n  _classCallCheck(this, Component);\n};\n\nvar ClockComponent = function (_Component) {\n  _inherits(ClockComponent, _Component);\n\n  function ClockComponent() {\n    _classCallCheck(this, ClockComponent);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(ClockComponent).apply(this, arguments));\n  }\n\n  _createClass(ClockComponent, [{\n    key: \"tick\",\n    value: function tick(timer) {\n      this._draw(timer);\n    }\n  }, {\n    key: \"_draw\",\n    value: function _draw(timer) {\n      var element = document.getElementById('clock');\n      element.innerHTML = timer.hours + \"時\" + timer.minutes + \"分\" + timer.seconds + \"秒\";\n    }\n  }]);\n\n  return ClockComponent;\n}(Component);\n\nvar TimeComponent = function (_Component2) {\n  _inherits(TimeComponent, _Component2);\n\n  function TimeComponent() {\n    _classCallCheck(this, TimeComponent);\n\n    var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(TimeComponent).call(this));\n\n    _this3._beforeTime = new Timer(new Date());\n    return _this3;\n  }\n\n  _createClass(TimeComponent, [{\n    key: \"lap\",\n    value: function lap(timer) {\n      var millisec = this._beforeTime.diff(timer);\n      this._beforeTime = timer;\n      this._draw(millisec);\n    }\n  }, {\n    key: \"_draw\",\n    value: function _draw(millisec) {\n      var time = document.getElementById('time');\n      time.innerHTML = millisec;\n    }\n  }]);\n\n  return TimeComponent;\n}(Component);\n\nvar EventHandler = function () {\n  function EventHandler() {\n    _classCallCheck(this, EventHandler);\n\n    this.listeners = [];\n  }\n\n  _createClass(EventHandler, [{\n    key: \"addListener\",\n    value: function addListener(listener) {\n      this.listeners.push(listener);\n    }\n  }, {\n    key: \"notify\",\n    value: function notify() {\n      for (var i in this.listeners) {\n        this.listeners[i].notify();\n      }\n    }\n  }, {\n    key: \"stopTime\",\n    value: function stopTime() {\n      for (var i in this.listeners) {\n        this.listeners[i].stopTime();\n      }\n    }\n  }]);\n\n  return EventHandler;\n}();\n\nfunction main() {\n  var eventHandler = new EventHandler();\n  var timerListener = new TimerListener(new Timer(new Time(new Date())), new ClockComponent());\n  eventHandler.addListener(timerListener);\n\n  window.onload = function () {\n    document.getElementById('start').addEventListener('click', function () {\n      console.log(\"start\");\n    });\n\n    document.getElementById('lap').addEventListener('click', function () {\n      console.log(\"lap\");\n    });\n    document.getElementById('stop').addEventListener('click', function () {\n      console.log(\"stop\");\n    });\n\n    window.setInterval(function () {\n      return eventHandler.notify();\n    }, 1000);\n  };\n}\n\nmain();\n\n//# sourceMappingURL=main-compiled.js.map"]}