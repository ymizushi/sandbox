{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main-compiled.js","sourcesContent":["class Time {\n  constructor(date) {\n    this._date = date;\n  }\n\n  get hours() {\n    return this._date.getHours();\n  }\n\n  get minutes() {\n    return this._date.getMinutes();\n  }\n\n  get seconds() {\n    return this._date.getSeconds();\n  }\n\n  get time() {\n    return this._date.getTime();\n  }\n}\n\n\nclass Timer {\n  constructor(time) {\n    this._time = time;\n  }\n\n  stop() {\n\n  }\n\n  tick (time) {\n    this._time = new Time(new Date());\n  }\n\n  diff(time) {\n    return time.time - this.time\n  }\n}\n\nclass Listener {}\n\nclass TimerListener extends Listener {\n  constructor(timer) {\n    super()\n    this._timer = timer;\n    this._clockComponent = new ClockComponent();\n    this._timeComponent = new TimeComponent();\n    this._lapComponents = [];\n  }\n\n  tick() {\n    this._timer.tick();\n    this._clockComponent.tick(this._timer);\n  }\n\n  stop() {\n    this._timeComponent.stop(this._timer);\n  }\n\n  start() {\n    this._timeComponent.start(this._timer);\n  }\n\n  lap() {\n    this._lapComponents.forEach((e) => e.lap());\n  }\n}\n\nclass Component {\n}\n\nclass ClockComponent extends Component {\n  tick(timer) {\n    this._draw(timer);\n  }\n\n  _draw(timer) {\n    var element = document.getElementById('clock');\n    element.innerHTML=timer.hours + \"時\" + timer.minutes + \"分\" + timer.seconds + \"秒\";\n  }\n\n}\n\nclass TimeComponent extends Component {\n  constructor() {\n    super();\n    this._beforeTime = new Timer(new Date());\n  }\n\n  lap(timer) {\n    const millisec = this._beforeTime.diff(timer);\n    this._beforeTime = timer;\n    this._draw(millisec);\n  }\n\n  _draw(millisec) {\n    var time = document.getElementById('time');\n    time.innerHTML = millisec;\n  }\n}\n\nclass EventHandler {\n  constructor() {\n    this.listeners = [];\n  }\n\n  addListener(listener) {\n    this.listeners.push(listener);\n  }\n\n  notify() {\n    for (var i in this.listeners) {\n      this.listeners[i].notify();\n    }\n  }\n\n  stopTime() {\n    for (var i in this.listeners) {\n      this.listeners[i].stopTime();\n    }\n  }\n}\n\nfunction main() {\n  const eventHandler = new EventHandler();\n  const timerListener = new TimerListener(new Timer(new Date()), new ClockComponent());\n  eventHandler.addListener(timerListener);\n\n  window.onload=function(){\n    document.getElementById('start').addEventListener('click', () => {\n\t\t\tconsole.log(\"start\");\n    });\n    document.getElementById('lap').addEventListener('click', () => {\n\t\t\tconsole.log(\"lap\");\n    });\n    document.getElementById('stop').addEventListener('click', () => {\n\t\t\tconsole.log(\"stop\");\n    });\n\n\t\twindow.setInterval(() => eventHandler.notify(), 1000);\n\t}\n\n}\n\nmain();\n"]}